<!DOCTYPE html>
<html lang="en" style="height: 100%;" xmlns:lemosen>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content=" initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <title> web common plugin</title>
    <link rel="stylesheet" href="css/lemosen.css"/>
    <link rel="stylesheet" href="css/animate.css"/>

</head>
<script src="js/lemosen.js"></script>
<script src="js/lemosen-router.js"></script>
<body style="margin: 0;height: 100%">
<lemosen:content>
    <div style="margin: 0 ;text-align:center;height: fit-content;background-color:#f8f8f8 ">
        <h2 style="margin:0;padding: 5px"> web common plugin</h2>
    </div>

    <input style="border-bottom: 1px solid #f8f8f8" type="text" id="testInput" title="test"/>
    <div id="testInput1"></div>
    <button onclick="openAlert()">
        alert
    </button>
    <button onclick="openModal()">
        modal
    </button>
    <button onclick="openToast()">
        toast
    </button>
</lemosen:content>
<lemosen:tabs></lemosen:tabs>
<script>

    var routerConfig = {
        // noCache: true,
        routers: [{
            path: 'tab1',
            url: 'https://lemosen.github.io/web_plugin/common/tab1.html',
            isIndex: false,
        }, {
            path: 'tab2',
            url: 'https://lemosen.github.io/web_plugin/common/tab2.html',
            isIndex: false,
        }, {
            path: '',
            url: 'https://lemosen.github.io/web_plugin/common/index.html',
            isIndex: true,
        }, {
            path: 'tab3',
            url: 'https://lemosen.github.io/web_plugin/common/tab1.html',
            isIndex: false,
        }],
        tabs: [{name: 'home', icon: './assets/home.svg', path: ''},
            {name: 'tab1', icon: './assets/category.svg', path: 'tab1'},
            {name: 'tab2', icon: './assets/loveLife.svg', path: 'tab2'},
            {name: 'home', icon: './assets/shoppingCart.svg', path: ''},
            {name: 'home', icon: './assets/customerCenter.svg', path: ''}]
    }

    lemosen.router.init(routerConfig)
    setTimeout(function () {
        lemosen.toast({position: 'middle', msg: 'welcome web plugin'})
    }, 2000)

    function openAlert() {
        lemosen.alert({
            title: "tip",
            content: "alert test ",
            okText: "ok",
            cancelText: "cancel",
            animationIn: "lemosen-bounceIn",
            animationOut: "lemosen-bounceOut",
            callback: function (e) {
                alert("i am callback")
            }
        })
    }

    function openModal() {
        lemosen.modal({
            html: "<div><h1> i am a modal</h1>input<input type=\"text\"  id=\"test\" onkeyup=\" lemosen.setModalCallBackParam({asd: event.target.value});\"/></div>",
            url: '',
            callback: function (param) {
                console.log('i sure')
                console.log(param);
            }
        })
    }

    function openToast() {
        lemosen.toast({msg: 'Just use it'})
    }
</script>
<script>

    /**
     * Object test
     * @type {Object}
     */
    var obj = new Object()
    var obj1 = {val1: 'asd'}
    Object.defineProperties(obj, {
        val1: {
            value: '张三',
            configurable: true,
            writable: false,
            enumerable: true
        }
    })
    // console.log(obj)
    // console.log(obj1)
    // console.log(Object.getOwnPropertyDescriptors(obj1));
    // console.log(Object.getOwnPropertyDescriptors(obj));
    var A = function () {
    };
    var B = {};
    // console.log(A.__proto__)
    // console.log(B.__proto__)
    // console.log(A.__proto__.__proto__)
    // console.log(B.__proto__)
    // console.log(A.prototype)
    // console.log(B.prototype)
    document.getElementById('testInput').addEventListener('keyup', function () {
        obj1.val1 = document.getElementById('testInput').value;
        document.getElementById('testInput1').innerHTML = document.getElementById('testInput').value
        console.log(obj1)
    }, false)
    // function live(target, type, fn){    //元素类型，事件类型，执行函数
    //     document.onkeyup = function(event){
    //         var e = event ? event : window.event;
    //         console.log(e.type);
    //         if(e.type == type && e.target.id.toLocaleLowerCase() == target){
    //             fn();    //如果元素类型和事件类型同时匹配,则执行函数
    //         }
    //     }
    // }
    // live("testInput", "keyup", function(){
    //     alert("live");
    // });
</script>
</body>
</html>