<!DOCTYPE html>
<html lang="en" style="height: 100%;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content=" initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <title> web common plugin</title>
    <link rel="stylesheet" href="css/lemosen.css"/>
    <link rel="stylesheet" href="css/animate.css"/>
    <script src="js/lemosen.js"></script>
</head>
<body style="margin: 0;height: 100%">

<div id="sub-content" style="display: none"></div>
<div id="main-content" style="background: #dce8e8;height: 100%">
    <div style="margin: 0 ;text-align:center;height: fit-content;background-color:#f8f8f8 ">
        <h2 style="margin:0;padding: 5px"> web common plugin</h2>
    </div>
    <script>

        function test() {

        }

        function openAlert() {
            // lemosen.alert('alert test ', function (e) {
            //     alert("i am callback")
            // },"tip","ok")
            // let
            lemosen.alert({
                title: "tip",
                content: "alert test ",
                okText: "ok",
                cancelText: "cancel",
                callback: function (e) {
                    alert("i am callback")
                }
            })
        }

        function aaa(param) {
            console.log('i sure')
            console.log(param);
        }

        function openModal() {
            lemosen.modal('<h1>title</h1><h2>title1</h2><p>content</p>', function (param) {
                console.log('i sure')
                console.log(param);
            }, {a: 1}, function () {
            }, {}, 50)
        }
    </script>
    <input type="text" id="testInput" title="test"/>
    <div id="testInput1"></div>
    <button onclick="openAlert()">
        alert
    </button>
    <button onclick="openModal()">
        modal
    </button>
    <h2></h2>
    <h2></h2>
    <script>
        console.log(window.location.href);
        // window.addEventListener('load', f)
        window.addEventListener('hashchange', f)

        function f(e) {
            var isMain = false;
            var xmlhttp = new XMLHttpRequest();
            if (e.newURL.split('#')[1] === 'tab1') {
                // xmlhttp.open("GET", './tab1.html', true); //第三个参数是同步异步,主线程只能异步
                xmlhttp.open("GET", 'https://lemosen.github.io/web_plugin/common/tab1.html', true); //第三个参数是同步异步,主线程只能异步
            }
            else if (e.newURL.split('#')[1] === 'tab2') {
                // xmlhttp.open("GET", './tab2.html', true); //第三个参数是同步异步,主线程只能异步
                xmlhttp.open("GET", 'https://lemosen.github.io/web_plugin/common/tab2.html', true); //第三个参数是同步异步,主线程只能异步
            } else {
                // xmlhttp.open("GET", './index.html', true);
                xmlhttp.open("GET", 'https://lemosen.github.io/web_plugin/common/index.html', true);
                isMain = true;
            }
            xmlhttp.send();
            xmlhttp.onreadystatechange = function () {//服务器返回值的处理函数，此处使用匿名函数进行实现
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    var responseText = xmlhttp.responseText;
                    if (isMain) {
                        document.getElementById('main-content').style.display = 'block';
                        document.getElementById('sub-content').style.display = 'none';
                    } else {
                        document.getElementById('sub-content').innerHTML = responseText;
                        document.getElementById('main-content').style.display = 'none';
                        document.getElementById('sub-content').style.display = 'block';
                    }

                }
            };
            console.log(e);
        }

        var obj = new Object()
        var obj1 = {val1: 'asd'}
        Object.defineProperties(obj, {
            val1: {
                value: '张三',
                configurable: true,
                writable: false,
                enumerable: true
            }
        })
        // console.log(obj)
        // console.log(obj1)
        // console.log(Object.getOwnPropertyDescriptors(obj1));
        // console.log(Object.getOwnPropertyDescriptors(obj));
        var A = function () {
        };
        var B = {};
        console.log(A.__proto__)
        console.log(B.__proto__)
        console.log(A.__proto__.__proto__)
        console.log(B.__proto__)
        console.log(A.prototype)
        console.log(B.prototype)
        document.getElementById('testInput').addEventListener('keyup', function () {
            obj1.val1 = document.getElementById('testInput').value;
            document.getElementById('testInput1').innerHTML = document.getElementById('testInput').value
            console.log(obj1)
        }, false)

    </script>

</div>
<div id="tabs" class="lemosen-tabs">
    <a href="#" class="lemosen-tab">
        home
    </a>
    <a href="#tab1" class="lemosen-tab">
        tab1
    </a>
    <a href="#tab2" class="lemosen-tab">
        tab2
    </a>
    <a href="#tab3" class="lemosen-tab">
        tab3
    </a>
    <a href="#tab4" class="lemosen-tab">
        tab4
    </a>
</div>
</body>
</html>